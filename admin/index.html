<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Master Cake Admin</title>
    <link rel="icon" href="../Logo.png">
    
  </head>
  <body>
    <!-- Decap CMS -->
    <script>window.CMS_MANUAL_INIT = true;</script>
    <script src="https://unpkg.com/decap-cms@^3.8.3/dist/decap-cms.js" onload="(function(){
      const config = {
        backend: {
          name: 'github',
          repo: 'zach11110/master-cake',
          branch: 'main',
          base_url: '/api',
          auth_endpoint: 'auth'
        },
        publish_mode: 'editorial_workflow',
        media_folder: 'menu/uploads',
        public_folder: '/menu/uploads',
        collections: [
          {
            name: 'settings',
            label: 'Menu Settings',
            files: [
              {
                file: 'menu/manifest.json',
                label: 'Master Menu',
                name: 'master_menu',
                format: 'json',
                fields: [
                  { label: 'Brand', name: 'brand', widget: 'object', fields: [
                    { label: 'Arabic Name', name: 'arName', widget: 'string' },
                    { label: 'English Name', name: 'enName', widget: 'string' },
                    { label: 'Arabic Tagline', name: 'tagAr', widget: 'string' },
                    { label: 'English Tagline', name: 'tagEn', widget: 'string' }
                  ]},
                  { label: 'Sections', name: 'sections', widget: 'object', fields: [
                    section('cold_drinks', 'Cold Drinks', 'مشروبات باردة'),
                    section('hot_drinks', 'Hot Drinks', 'مشروبات ساخنة'),
                    section('sweets', 'Sweets', 'حلويات'),
                    section('argillies', 'Argillies (Hookah)', 'أركيلة'),
                    section('ice_cream', 'Ice Cream', 'بوظة / آيس كريم')
                  ]}
                ]
              }
            ]
          }
        ]
      };

      function section(name, en, ar){
        return {
          label: en,
          name,
          widget: 'object',
          fields: [
            { label: 'Arabic Label', name: 'ar', widget: 'string', default: ar },
            { label: 'English Label', name: 'en', widget: 'string', default: en },
            { label: 'Items', name: 'items', widget: 'list', fields: [
              { label: 'ID', name: 'id', widget: 'string' },
              { label: 'Arabic Name', name: 'arName', widget: 'string' },
              { label: 'English Name', name: 'enName', widget: 'string' },
              { label: 'Arabic Description', name: 'descriptionAr', widget: 'text', required: false },
              { label: 'English Description', name: 'descriptionEn', widget: 'text', required: false },
              { label: 'Images', name: 'images', widget: 'list', field: { label: 'Image filename', name: 'image', widget: 'string' } }
            ]}
          ]
        };
      }

      window.CMS.init({ config });
    })();"></script>
  </body>
</html>

